: file-readline-loop
  1 2 pick file-read
  dup
  ord 10 =
  if
    free
  else
    free
    file-readline-loop
  endif
;

: file-readline
  # put a file-pointer on the stack
  dup file-tell
  file-readline-loop
  over file-tell over -
  -rot 0 2 pick file-seek
  tuck file-read
;
